<template name="maintenances">
  {{#if maintenances.count}}
    {{> maintenancesList}}
  {{else}}
    {{> maintenancesEmpty}}
  {{/if}}
</template>

<template name="maintenancesList">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">
        {{_ 'maintenances'}}
        <a class="pull-right" href="{{pathFor 'root'}}">{{_ 'go_back'}}</a>
      </h3>
    </div>
    <div class="panel-body">
      <a class="btn btn-xs btn-default pull-right" href="{{pathFor 'maintenanceNew'}}">{{_ 'maintenance_new'}}</a>
      <table class="table table-hover">
        <thead>
          <tr>
            <th></th>
            <th>{{_ 'maintenance_type'}}</th>
            <th class="hidden-xs">{{_ 'maintenance_quantity'}}</th>
            <th>{{_ 'maintenance_code'}}</th>
            <th class="hidden-xs hidden-sm hidden-md">{{_ 'maintenance_brand'}}</th>
            <th class="hidden-xs hidden-sm">{{_ 'maintenance_serial'}}</th>
            <th class="hidden-xs hidden-sm hidden-md">{{_ 'maintenance_characteristics'}}</th>
            <th class="hidden-xs">{{_ 'maintenance_date'}}</th>
            <th class="hidden-xs hidden-sm">{{_ 'maintenance_period'}}</th>
          </tr>
        </thead>
        <tbody>
          {{#each maintenances}}
            <tr>
              <td>
                {{#if displayWarning}}
                  <span class="label {{labelClass}}">
                    <span class="glyphicon glyphicon-warning-sign"></span>
                  </span>
                {{/if}}
              </td>
              <td><a href="{{pathFor 'maintenance'}}">{{type}}</a></td>
              <td class="hidden-xs"><a href="{{pathFor 'maintenance'}}">{{quantity}}</a></td>
              <td><a href="{{pathFor 'maintenance'}}">{{code}}</a></td>
              <td class="hidden-xs hidden-sm hidden-md"><a href="{{pathFor 'maintenance'}}">{{brand}}</a></td>
              <td class="hidden-xs hidden-sm"><a href="{{pathFor 'maintenance'}}">{{serial}}</a></td>
              <td class="hidden-xs hidden-sm hidden-md"><a href="{{pathFor 'maintenance'}}">{{characteristics}}</a></td>
              <td class="hidden-xs"><a href="{{pathFor 'maintenance'}}">{{l date 'L'}}</a></td>
              <td class="hidden-xs hidden-sm"><a href="{{pathFor 'maintenance'}}">{{period}}</a></td>
            </tr>
          {{/each}}
        </tbody>
      </table>

      {{#if nextPath}}
        <div class="row">
          <div class="col-md-4 col-md-offset-4">
            <a class="btn btn-default btn-xs btn-block" href="{{nextPath}}">{{_ 'more'}}</a>
          </div>
        </div>

        <br>
      {{else}}
        {{#unless ready}}{{> spinner}}{{/unless}}
      {{/if}}

      <a class="btn btn-primary" href="{{pathFor 'maintenanceNew'}}">{{_ 'maintenance_new'}}</a>
    </div>
  </div>
</template>
